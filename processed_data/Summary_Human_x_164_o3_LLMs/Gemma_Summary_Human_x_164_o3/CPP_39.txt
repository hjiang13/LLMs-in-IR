This function calculates the nth prime number using a trial division algorithm.