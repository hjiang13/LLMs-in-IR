Check if a given C++ string contains nested brackets by counting the occurrences of opening and closing brackets.