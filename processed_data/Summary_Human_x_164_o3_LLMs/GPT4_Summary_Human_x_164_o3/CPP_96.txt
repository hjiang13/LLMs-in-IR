Count up to a specified integer while dynamically reallocating a vector to store the results, ensuring memory management and handling potential exceptions.