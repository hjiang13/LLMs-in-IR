Calculate the largest prime factor of a given integer using a loop that checks divisibility and updates the current factor until the square of the factor exceeds the number.