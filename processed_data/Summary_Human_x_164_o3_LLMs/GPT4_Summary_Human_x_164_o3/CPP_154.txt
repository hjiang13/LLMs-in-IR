Check if a given pattern exists in a string and perform string manipulations based on the results.